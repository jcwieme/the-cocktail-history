{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["//Variables setup\nconst dpi = \"(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)\";\nlet dataCache;\nvar animImg;\nvar animText;\nlet body = $('body');\nlet width;\nlet checkAudio = false;\nlet dataPage = body.attr('data-page');\nlet play = false;\nlet infoData;\n\n//Audio setup\nlet jazzAudio = $('#audio-1');\nlet vodkaAudio = $('#audio-2');\nlet barAudio = $('#audio-3');\nlet paperAudio = $('#audio-4');\nlet policeAudio = $('#audio-5');\nlet iceAudio = $('#audio-6');\nlet explosionAudio = $('#audio-7');\nlet gunAudio = $('#audio-8');\nlet shakerAudio = $('#audio-9');\nlet cocktailAudio = $('#audio-10');\nlet stirAudio = $('#audio-11');\nlet partyAudio = $('#audio-12');\n\n\n$(document).ready(function () {\n    width = $(window).width();\n\n    scrollDesktop();\n    getTweens();\n\n    //Enlever le loader et initialiser les volumes de base\n    setTimeout(function () {\n        $('body').attr('data-load', 'false');\n\n        jazzAudio.prop('volume', 0.05);\n        barAudio.prop('volume', 0.1);\n    }, 1500);\n\n    // Réglages boutton next chapitre responsive\n    if (width > 1025) {\n        $('.nav__list').hover(function () {\n            body.attr('data-desknav', 'true');\n        })\n        $('.btn--next').click(function () {\n            let data = $(this).attr('data-chapitre');\n\n            if (data == 'study') {\n                //Ouvrir le case-study\n                openPage('case-study/');\n            } else {\n                //Ouvrir le chapitre suivant\n                nextChapitre(data, width);\n            }\n        });\n\n        $('.nav__content').removeClass('nav__content--active');\n    } else {\n        $('.next__content').click(function () {\n            let data = $(this).attr('data-chapitre');\n            if (data == 'study') {\n                //Ouvrir le case-study\n                openPage('case-study/');\n            } else {\n                //Ouvrir lechapitre suivant\n                nextChapitre(data, width);\n            }\n        });\n    }\n\n    //Boutton play music\n    $('.btn--music').click(function (e) {\n        e.preventDefault();\n\n        if (play == true) {\n            //Si la musique joue, mettre en pause\n            jazzAudio.trigger('pause');\n            barAudio.trigger('pause');\n\n            $('#music').html('OFF');\n            play = false;\n\n            getMusic();\n        } else {\n            //Si la musique ne joue pas, jouer\n            let chapitre = '.chapitre--' + $('body').attr('data-chapitre');\n            let dataActif = $(chapitre).attr('data-actif');\n\n            jazzAudio.trigger('play');\n            barAudio.trigger('play');\n\n            $('#music').html('ON');\n            play = true;\n\n            //Avoir la bonne musique\n            getMusic(dataActif);\n        }\n    })\n\n    //Page != side project et desktop\n    if (dataPage != 'side' && width > 1025) {\n        body.attr('data-desknav', 'true');\n\n        //Scroll bar sur les autres pages\n        $(window).scroll(function (event) {\n            let scroll = $(window).scrollTop();\n            let scrollPercent = 100 * $(window).scrollTop() / ($(document).height() - $(window).height());\n            scrollPercent = Math.round(scrollPercent);\n            scrollPercent += '%';\n\n            $('.nav__bar').height(scrollPercent);\n        });\n    } else if (dataPage != 'side') {\n        scrollTop('.chapitre--aside', 750);\n    } else {\n        $.getJSON('assets/scripts/data.json', function (data) {\n            dataCache = data;\n        });\n    }\n\n    // Mise en place des élèments au premier chargement\n    $('.addon--message').on(\"animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd\", function () {\n        body.removeClass('overflow');\n        $('.addon--message').css('display', 'none');\n\n        $('.chapitre').css('position', 'relative');\n        $('.chapitre--intro').removeClass('block');\n    });\n\n    // Animation Menu + Changement de page via le menu\n    $('.btn--nav').click((e) => {\n        e.preventDefault();\n\n        let chapitre = '.chapitre--' + body.attr('data-chapitre');\n\n        if (body.attr('data-nav') == 'false') {\n            body.attr('data-nav', 'true');\n\n            $(chapitre).attr('data-animation', 'closeSlideRight');\n            $('.addon--nav').attr('data-animation', 'comeSlideLeft');\n\n        } else {\n\n            $(chapitre).attr('data-animation', 'comeSlideRight');\n            $('.addon--nav').attr('data-animation', 'closeSlideLeft');\n            $(chapitre).css('position', 'absolute');\n\n            body.attr('data-nav', 'false');\n        }\n    });\n\n    // Navigation mobile\n    $('.nav__content').click(function () {\n        let data = $(this).attr('data-chapitre');\n\n        if (dataPage != 'side') {\n            if (data == 'tfa') {\n                data = '../';\n                openPage(data);\n            } else {\n                data = '../' + data + '/';\n                openPage(data);\n            }\n        } else {\n            let nav = this;\n            let chapitreNext = '.chapitre--' + data;\n\n            $(chapitreNext).attr('data-animation', 'comeSlideRight');\n            $('.addon--nav').attr('data-animation', 'closeSlideLeft');\n\n            body.attr('data-nav', 'false');\n            body.attr('data-chapitre', $(this).attr('data-chapitre'));\n\n            getMusic('1');\n\n            $(chapitreNext).on(\"animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd\", function () {\n                $('.nav__content').removeClass('nav__content--active');\n                $(chapitreNext).css('position', 'relative');\n                $(nav).addClass('nav__content--active');\n            });\n        }\n\n    });\n\n    // Scroll via boutton\n    $('.btn--scroll').on('click', function () {\n        width = $(window).width();\n        let cible = '#' + $(this).attr('data-scroll');\n\n\n        if (width > 1025) {\n            let chapitre = '.chapitre--' + body.attr('data-chapitre');\n            let numberBlock = $(chapitre).attr('data-count');\n            let bar = (1 / (numberBlock - 1)) * 100;\n\n            body.attr('data-desknav', 'true');\n            $(chapitre).attr('data-actif', '2');\n            bar += '%';\n\n            $('.nav__bar').animate({\n                height: bar\n            }, 750);\n        }\n\n        scrollTop(cible, 750);\n    });\n\n    // Ouverture et ajout des données pour les informations\n    $('.link--info').click(function (e) {\n        e.preventDefault();\n        infoData = 'info';\n\n        let code = $(this).attr('href').slice(1);\n        let info = dataCache[code];\n\n        if (matchMedia(dpi).matches) {\n            $('.info__background').css('background-image', `url(assets/images/base/${info.imgHigh})`);\n        } else {\n            $('.info__background').css('background-image', `url(assets/images/base/${info.img})`);\n        }\n\n        $('.info__sub--text').html(info.alt);\n        $('.info__title').html(info.title);\n        $('.info__text').html('');\n\n        $.each(info.text, function (i, el) {\n            let p = $('<p>').html(el);\n            $('.info__text').append(p);\n        })\n\n\n        openInfo('info');\n    });\n\n    // Ouverture et ajout des données pour les recettes\n    $('.link--recette').click(function (e) {\n        e.preventDefault();\n        infoData = 'recette';\n\n        let code = $(this).attr('href').slice(1);\n        let info = dataCache[code];\n\n        $('.recette__link').removeClass('recette__link--active');\n        $('.recette__link--histoire').addClass('recette__link--active');\n\n        $('.recette').removeClass('recette--active');\n        $('.recette__histoire').addClass('recette--active');\n\n\n\n        if (matchMedia(dpi).matches) {\n            $('.recette__background').css('background-image', `url(assets/images/base/${info.imgHigh})`);\n        } else {\n            $('.recette__background').css('background-image', `url(assets/images/base/${info.img})`);\n        }\n\n        $('.recette__title').html(info.title);\n        $('.recette__ingredients').html('');\n        $('.recette__etapes').html('');\n\n        $.each(info.ingredients, function (i, el) {\n            let li = $('<li>').html(el);\n            $('.recette__ingredients').append(li);\n        });\n\n        $.each(info.etapes, function (j, etape) {\n            let li = $('<li>').addClass('recette__el');\n            let div = $('<div>').addClass('recette__content');\n\n            let h3 = $('<h3>').html(`Étape ${j+1}`);\n            let p = $('<p>').html(etape);\n\n            div.append(h3);\n            div.append(p);\n\n            li.append(div);\n\n            $('.recette__etapes').append(li);\n        });\n\n        $('.recette__histoire').html('');\n\n        $.each(info.histoire, function (k, his) {\n            let p = $('<p>').html(his);\n            $('.recette__histoire').append(p);\n        });\n\n        openInfo('recette');\n\n        //Navigation de l'addon recette\n        $('.recette__link').click(function (e) {\n            e.preventDefault();\n\n            let open = '.recette__' + $(this).attr('href').slice(1);\n\n            $('.recette__link').removeClass('recette__link--active');\n            $(this).addClass('recette__link--active');\n\n            $('.recette').removeClass('recette--active');\n            $(open).addClass('recette--active');\n        })\n\n    });\n\n    // Fermeture des addons\n    $('.btn--info').click(function () {\n        width = $(window).width();\n\n        let chapitre = '.chapitre--' + body.attr('data-chapitre');\n        let addon = '.addon--' + $(this).attr('data-addon');\n\n        closeInfo(addon, chapitre, width);\n    });\n\n    // Animation menu desktop\n    $('.nav__dots').hover(\n        function () {\n            $(this).prev().addClass('nav__content--active');\n        },\n        function () {\n            $('.nav__content').removeClass('nav__content--active');\n        }\n    );\n\n    // Navigation desktop\n    $('.nav__dots').click(function () {\n        let data = $(this).prev().attr('data-chapitre');\n\n        if (dataPage != 'side') {\n            if (data == 'tfa') {\n                data = '../';\n                openPage(data);\n            } else {\n                data = '../' + data + '/';\n                openPage(data);\n            }\n        } else {\n            let chapitreNext = '.chapitre--' + data;\n            let chapitre = '.chapitre--' + $('body').attr('data-chapitre');\n            let dots = $(this);\n\n            body.attr('data-load', 'true');\n\n            $(chapitreNext).attr('data-animation', '');\n\n            setTimeout(function () {\n                body.attr('data-chapitre', data);\n\n                scrollTop(chapitreNext, 0);\n\n                $(chapitreNext).attr('data-actif', '1');\n                $(chapitre).attr('data-actif', '1');\n\n                body.attr('data-desknav', 'false');\n\n                $('.nav__dots').removeClass('nav__dots--active');\n                $('.nav__content').removeClass('nav__content--active');\n\n                dots.addClass('nav__dots--active');\n\n                $('.nav__bar').height('0%');\n            }, 300);\n\n            setTimeout(function () {\n                body.attr('data-load', 'false');\n                getMusic('1');\n            }, 1500);\n        }\n\n    });\n\n    // Retour à la première page en desktop\n    $('.nav__home').click(function (e) {\n        e.preventDefault();\n\n        let chapitreHome = $('.chapitre--intro');\n        let chapitreData = $('body').attr('data-chapitre');\n\n        if (chapitreData == 'aside') {\n            openPage('../');\n        } else {\n\n            body.attr('data-load', 'true');\n            $(chapitreHome).attr('data-animation', '');\n\n\n            $('.nav__dots').removeClass('nav__dots--active');\n            $('.nav__content[data-chapitre=\"intro\"] + .nav__dots').addClass('nav__dots--active');\n\n            setTimeout(function () {\n                body.attr('data-chapitre', 'intro');\n                chapitreHome.attr('data-actif', '1');\n\n                scrollTop(chapitreHome, 0);\n\n                body.attr('data-desknav', 'false');\n            }, 300);\n\n            setTimeout(function () {\n                body.attr('data-load', 'false');\n                getMusic('1');\n            }, 1500);\n\n        }\n    });\n\n    //Click nouvelle page\n    $('.more__link, .nav__link').click(function (e) {\n        e.preventDefault();\n\n        openPage($(this).attr('href'));\n    })\n});\n\n$(window).resize(function () {\n    width = $(window).width();\n\n    let actifChapitre = '.chapitre--' + body.attr('data-chapitre');\n    let actifBlock = $(actifChapitre).attr('data-actif');\n\n    if (width > 1025) {\n        if (dataPage != 'side' && width > 1025) {\n            body.attr('data-desknav', 'true');\n        } else {\n            scrollTop(`${actifChapitre} > .box[data-block=\"${actifBlock}\"]`, 100);\n\n            $('.nav__content').removeClass('nav__content--active');\n\n            if ($(actifChapitre).attr('data-actif') != 1) {\n                $('body').attr('data-desknav', 'true');\n            }\n        }\n    } else {\n        getMusic('0');\n\n        $('body').attr('data-desknav', 'false');\n\n        $('.box__background').css('transform', 'none');\n        $('.box__content').css('transform', 'none');\n    }\n\n    scrollDesktop();\n    getTweens();\n\n});\n\n// Changement de chapitre - Remise à zéro pour chaque chapitre en desktop\nfunction nextChapitre(data, width) {\n    let chapitreNext = '.chapitre--' + data;\n\n    body.attr('data-load', 'true');\n    $(chapitreNext).attr('data-animation', '');\n\n\n    if (width > 1025) {\n\n        $('.nav__dots').removeClass('nav__dots--active');\n        $(`.nav__content[data-chapitre=\"${data}\"] + .nav__dots`).addClass('nav__dots--active');\n\n        body.attr('data-desknav', 'false');\n\n        $(chapitreNext).attr('data-actif', '1');\n\n        $('.nav__bar').height('0%');\n\n    } else {\n        $('.nav__content').removeClass('nav__content--active');\n        $(`.nav__content[data-chapitre=\"${data}\"]`).addClass('nav__content--active');\n    }\n\n    setTimeout(function () {\n        body.attr('data-chapitre', data);\n\n        scrollTop(chapitreNext, 0);\n    }, 300)\n\n    setTimeout(function () {\n        body.attr('data-load', 'false');\n        getMusic('1');\n    }, 1500);\n}\n\n// Fonction pour ouvrir les addons\nfunction openInfo(id) {\n    let chapitre = '.chapitre--' + body.attr('data-chapitre');\n    let addon = '.addon--' + id;\n\n    width = $(window).width();\n\n    $(addon).scrollTop(0);\n\n    if (id == 'recette') {\n        getMusic('10');\n    } else {\n        getMusic('9');\n    }\n\n    $('.box').click(function () {\n        if (width > 1025) {\n            if (body.attr('data-info') == 'true') {\n                let chapitre = '.chapitre--' + body.attr('data-chapitre');\n                let addon = '.addon--' + infoData;\n\n                closeInfo(addon, chapitre, width);\n            }\n        }\n    });\n\n    setTimeout(function () {\n        body.attr('data-info', 'true');\n    }, 350)\n\n    if (width < 1025) {\n        $(chapitre).attr('data-animation', 'closeSlideLeft');\n        $(addon).attr('data-animation', 'comeSlideRight');\n    } else {\n        $(chapitre).attr('data-animation', 'closeSlideLeftDesktop');\n        $(addon).attr('data-animation', 'comeSlideRight');\n    }\n}\n\n// Fonction pour fermer les addons\nfunction closeInfo(addon, chapitre, width) {\n    body.attr('data-info', 'false');\n\n    if (width < 1025) {\n        $(addon).attr('data-animation', 'closeSlideRight');\n        $(chapitre).attr('data-animation', 'comeSlideLeft');\n    } else {\n        $(addon).attr('data-animation', 'closeSlideRight');\n        $(chapitre).attr('data-animation', 'comeSlideLeftDesktop');\n    }\n}\n\n//Fonction nouvelle page credits, etc.\nfunction openPage(id) {\n    window.location.href = id;\n}\n\nfunction scrollTop(cible, time) {\n    $('html, body').animate({\n        scrollTop: $(cible).offset().top\n    }, time);\n}\n\n//Fonction de scroll sur desktop\nfunction scrollDesktop() {\n    $(document).on('DOMMouseScroll mousewheel', function (event) {\n        width = $(window).width();\n\n        let actifChapitre = '.chapitre--' + body.attr('data-chapitre');\n        let chapitreNext = '.chapitre--' + $(actifChapitre).attr('data-next');\n        let previousChapitre = '.chapitre--' + $(actifChapitre).attr('data-previous');\n\n        let numberBlock = parseInt($(actifChapitre).attr('data-count'));\n        let blockActif = parseInt($(actifChapitre).attr('data-actif'));\n        let previous = $(actifChapitre).attr('data-previous');\n        let nextData = $(actifChapitre).attr('data-next');\n\n        let scrollBody = body.attr('data-scroll');\n\n        let bar;\n\n        if (width > 1025 && body.attr('data-info') == 'false' && body.attr('data-page') == 'side') {\n            if (scrollBody == 'active' && !body.hasClass('overflow')) {\n                //Scroll Down\n                if (event.originalEvent.detail > 0 || event.originalEvent.wheelDelta < 0) {\n                    if (blockActif == numberBlock) {\n                        if (actifChapitre == '.chapitre--jours') {\n                            openPage('case-study/')\n                        } else {\n                            body.attr('data-load', 'true');\n                            $(chapitreNext).attr('data-animation', '');\n\n                            body.attr('data-scroll', 'inactive');\n\n                            setTimeout(function () {\n                                body.attr('data-chapitre', nextData);\n                                body.attr('data-desknav', 'false');\n                                $('.nav__dots').removeClass('nav__dots--active');\n                                $(`.nav__content[data-chapitre=\"${nextData}\"] + .nav__dots`).addClass('nav__dots--active');\n\n                                scrollTop(chapitreNext, 0);\n\n                                $('.nav__bar').height('0%');\n                                getMusic('1');\n                            }, 300);\n\n                            setTimeout(function () {\n                                body.attr('data-load', 'false');\n                                body.attr('data-scroll', 'active');\n                            }, 1500);\n                        }\n                    } else {\n                        body.attr('data-scroll', 'inactive');\n\n                        blockActif++;\n\n                        if (blockActif != 1) {\n                            body.attr('data-desknav', 'true');\n                        }\n\n                        bar = ((blockActif - 1) / (numberBlock - 1)) * 100;\n                        bar += '%';\n\n                        scrollTop(`${actifChapitre} > .box[data-block=\"${blockActif}\"]`, 750);\n\n                        $('.nav__bar').animate({\n                            height: bar\n                        }, 750);\n\n                        $(actifChapitre).attr('data-actif', blockActif);\n\n\n                        setTimeout(function () {\n                            body.attr('data-scroll', 'active');\n                        }, 1500);\n\n                        getMusic(blockActif);\n\n                    }\n\n                    //Scroll top\n                } else {\n                    blockActif--;\n\n                    if (blockActif == 0) {\n                        if (actifChapitre == '.chapitre--intro') {\n                            return;\n                        } else {\n                            let previous = $(actifChapitre).attr('data-previous');\n                            numberBlock = $(previousChapitre).attr('data-count');\n\n                            body.attr('data-load', 'true');\n                            $(previousChapitre).attr('data-animation', '');\n\n                            $('.nav__dots').removeClass('nav__dots--active');\n                            $(`.nav__content[data-chapitre=\"${previous}\"] + .nav__dots`).addClass('nav__dots--active');\n\n                            body.attr('data-scroll', 'inactive');\n\n                            setTimeout(function () {\n                                body.attr('data-chapitre', previous);\n                                body.attr('data-desknav', 'true');\n\n                                scrollTop(`${previousChapitre} > .box[data-block=\"${numberBlock}\"]`, 0);\n\n                                $(actifChapitre).attr('data-actif', '1');\n                                $(previousChapitre).attr('data-actif', numberBlock);\n\n                                $('.nav__bar').height('100%');\n\n                                getMusic('1');\n                            }, 300);\n\n                            setTimeout(function () {\n                                body.attr('data-load', 'false');\n                                body.attr('data-scroll', 'active');\n                            }, 1500);\n                        }\n                    } else {\n\n                        bar = ((blockActif - 1) / (numberBlock - 1)) * 100;\n                        bar += '%';\n\n                        body.attr('data-scroll', 'inactive');\n\n                        if (blockActif == 1) {\n                            body.attr('data-desknav', 'false');\n                        }\n\n                        scrollTop(`${actifChapitre} > .box[data-block=\"${blockActif}\"]`, 750);\n\n                        $('.nav__bar').animate({\n                            height: bar\n                        }, 750);\n\n                        setTimeout(function () {\n                            body.attr('data-scroll', 'active');\n                        }, 1500);\n\n                        $(actifChapitre).attr('data-actif', blockActif);\n\n                        getMusic(blockActif);\n                    }\n                }\n            }\n        }\n    });\n}\n\n// Effet en desktop\nfunction getTweens() {\n    width = $(window).width();\n\n    let request = null;\n    let mouse = {\n        x: 0,\n        y: 0\n    };\n    let cx = window.innerWidth / 2;\n    let cy = window.innerHeight / 2;\n\n    $('.box').mousemove(function (event) {\n        if (width > 1025) {\n            mouse.x = event.pageX;\n            mouse.y = event.pageY;\n            cancelAnimationFrame(request);\n            request = requestAnimationFrame(update);\n        }\n    });\n\n    function update() {\n        dx = (mouse.x - cx) / 2;\n        dy = (mouse.y - cy) / 2;\n        let tiltx = (dy / cy);\n        let tilty = -(dx / cx);\n\n        animImg = TweenMax.to(\".box__background\", 1, {\n            x: tilty * 20,\n            y: tiltx * 20,\n            rotation: 0.01,\n            ease: Power1.easeOut\n        });\n        animImg.duration(2);\n        animText = TweenMax.to(\".box__content:not(.box__content--next)\", 1, {\n            x: -tilty * 15,\n            y: -tiltx * 15,\n            rotation: 0.01,\n            ease: Power2.easeOut\n        });\n        animText.duration(2);\n    }\n}\n\nfunction getMusic(actif) {\n\n    let total = [vodkaAudio, policeAudio, explosionAudio, gunAudio, stirAudio, partyAudio];\n\n    let chapitre = $('body').attr('data-chapitre');\n\n    if (play == true) {\n        if (chapitre == 'prohibition' && actif == '2') {\n            policeAudio.trigger('play');\n            policeAudio.prop('volume', 0.3);\n        } else if (chapitre == 'prohibition' && actif == '4') {\n            gunAudio.trigger('play');\n            gunAudio.prop('volume', 0.3);\n\n            explosionAudio.trigger('play');\n            explosionAudio.prop('volume', 0.3);\n\n            barAudio.trigger('pause');\n            jazzAudio.trigger('pause');\n\n            checkAudio = true;\n        } else if (chapitre == 'souffle' && actif == '3') {\n            stirAudio.animate({\n                volume: 0\n            }, 100, function () {\n                stirAudio.trigger('pause');\n            });\n\n            vodkaAudio.trigger('play');\n            vodkaAudio.prop('volume', 0.05);\n\n            barAudio.trigger('pause');\n            jazzAudio.trigger('pause');\n\n            checkAudio = true;\n        } else if (chapitre == 'souffle' && actif == '4') {\n            vodkaAudio.animate({\n                volume: 0\n            }, 100, function () {\n                vodkaAudio.trigger('pause');\n            });\n\n            barAudio.trigger('play');\n            jazzAudio.trigger('play');\n\n            stirAudio.trigger('play');\n            stirAudio.prop('volume', 0.1);\n        } else if (chapitre == 'jours') {\n\n            if (actif == '5') {\n\n                shakerAudio.trigger('play');\n                shakerAudio.prop('volume', 0.1);\n\n                setTimeout(function () {\n                    shakerAudio.trigger('pause');\n                    cocktailAudio.trigger('play');\n                    cocktailAudio.prop('volume', 0.4);\n                }, 2000);\n            }\n\n            partyAudio.trigger('play');\n            partyAudio.prop('volume', 0.05);\n\n            barAudio.trigger('pause');\n            jazzAudio.trigger('pause');\n\n            checkAudio = true;\n        } else {\n            if (actif == '10') {\n                iceAudio.trigger('play');\n                iceAudio.prop('volume', 0.5);\n            } else if (actif == '9') {\n                paperAudio.trigger('play');\n                paperAudio.prop('volume', 0.5);\n            } else {\n                $.each(total, function (i, j) {\n                    j.animate({\n                        volume: 0\n                    }, 1000, function () {\n                        j.trigger('pause');\n                    });\n                });\n\n                if (checkAudio == true) {\n                    barAudio.trigger('play');\n                    jazzAudio.trigger('play');\n                    checkAudio = false;\n                }\n            }\n        }\n\n    } else {\n        $.each(total, function (i, j) {\n            j.trigger('pause');\n        });\n    }\n}\n"]}